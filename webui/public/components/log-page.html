<!-- 页面3: 日志 -->
<div class="page" id="page-log">
    <!-- 日志卡片 -->
    <section class="card" id="logCard">
        <h2 class="card-title">
            <span class="title-icon">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
                </svg>
            </span>
            <span data-i18n="log_title"> </span>
        </h2>
        <div class="card-content">
            <style>
                /* 局部样式补充，确保迁移过来的元素样式正常 */
                .log-level-section {
                    margin-bottom: 20px;
                    padding-bottom: 15px;
                    border-bottom: 1px solid var(--border-color);
                }

                .log-level-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 10px;
                    font-weight: 500;
                    color: var(--text-primary);
                }

                /* 复用 settings-tabs-grid 样式，可能需要调整 */
                .settings-tabs-grid.log-level-tabs-grid {
                    display: grid;
                    /* 强制两列布局 */
                    grid-template-columns: repeat(2, 1fr);
                    gap: 8px;
                    background: var(--bg-secondary);
                    padding: 4px;
                    border-radius: 12px;
                }

                /* 在日志页中使按钮更紧凑 */
                .log-level-tabs-grid .settings-tab-btn {
                    padding: 8px 4px;
                    min-height: 60px;
                }

                .log-level-tabs-grid .settings-tab-btn .tab-text {
                    white-space: nowrap;
                    font-size: 11px;
                }

                .log-level-tabs-grid .settings-tab-btn .tab-icon svg {
                    width: 16px;
                    height: 16px;
                }
            </style>
            <div class="log-level-section">
                <div class="log-level-header">
                    <span data-i18n="settings_log_level">主日志等级:</span>
                </div>
                <div class="settings-tabs-grid log-level-tabs-grid" id="logLevelContainer">
                    <button class="settings-tab-btn" data-value="debug" data-i18n="settings_log_level_debug">
                        <span class="tab-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M20,8H17.19C16.74,7.2 16.12,6.5 15.37,5.97L17,4.34L15.66,3L13.69,4.97C13.14,4.8 12.57,4.72 12,4.72C11.43,4.72 10.86,4.8 10.31,4.97L8.34,3L7,4.34L8.63,5.97C7.88,6.5 7.26,7.2 6.81,8H4V9.5H6.09C6.04,9.82 6,10.16 6,10.5H4V12H6C6,12.34 6.04,12.68 6.09,13H4V14.5H6.81C7.85,16.79 10.13,18.5 12.75,18.5C15.37,18.5 17.65,16.79 18.69,14.5H20V13H18.91C18.96,12.68 19,12.34 19,12H21V10.5H19C19,10.16 18.96,9.82 18.91,9.5H20V8M16.5,12C16.5,14.76 14.26,17 11.5,17C8.74,17 6.5,14.76 6.5,12C6.5,9.24 8.74,7 11.5,7C14.26,7 16.5,9.24 16.5,12Z" />
                            </svg>
                        </span>
                        <span class="tab-text">Debug</span>
                    </button>
                    <button class="settings-tab-btn active" data-value="info" data-i18n="settings_log_level_info">
                        <span class="tab-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" />
                            </svg>
                        </span>
                        <span class="tab-text">Info</span>
                    </button>
                    <button class="settings-tab-btn" data-value="warn" data-i18n="settings_log_level_warn">
                        <span class="tab-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z" />
                            </svg>
                        </span>
                        <span class="tab-text">Warn</span>
                    </button>
                    <button class="settings-tab-btn" data-value="error" data-i18n="settings_log_level_error">
                        <span class="tab-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z" />
                            </svg>
                        </span>
                        <span class="tab-text">Error</span>
                    </button>
                </div>
                <div class="setting-description" style="margin-top: 8px;">
                    <small data-i18n="settings_log_level_desc1">修改日志等级后实时生效</small>
                </div>
            </div>
            <div class="log-header">
                <div class="log-tabs-grid">
                    <button class="log-tab-btn active" data-log="gpu_gov.log">
                        <span class="tab-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zm-8-2h2v2h-2v-2zm0-8h2v6h-2V9z" />
                            </svg>
                        </span>
                        <span class="tab-text" data-i18n="log_main"> </span>
                    </button>
                    <button class="log-tab-btn" data-log="initsvc.log">
                        <span class="tab-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                            </svg>
                        </span>
                        <span class="tab-text" data-i18n="log_init"> </span>
                    </button>
                </div>
                <button id="refreshLogBtn" class="btn refresh-btn">
                    <span class="refresh-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                        </svg>
                    </span>
                    <span data-i18n="log_refresh"> </span>
                </button>
            </div>

            <pre id="logContent" class="log-content" data-i18n="log_loading"> </pre>
        </div>
    </section>
</div>