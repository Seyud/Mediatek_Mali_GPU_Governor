@import url("./variables.css");

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	/* 安卓触摸优化 */
	-webkit-tap-highlight-color: transparent;
	-webkit-touch-callout: none;
}

/* 为所有交互元素启用 GPU 加速 */
button,
.btn,
.card,
.nav-item,
.tab-btn,
input,
select {
	transform: translateZ(0);
	backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
}

/* 移除焦点轮廓（安卓设备主要使用触摸交互）*/
*:focus {
	outline: none;
}

/* 安卓触摸反馈 - 使用 :active 替代 :focus */
button:active,
.card:active {
	opacity: 0.8;
	transform: scale(0.98);
}

/* 主题切换按钮的触摸反馈 */
.theme-toggle:active {
	background-color: var(--accent-bg);
	transform: scale(0.95);
}

body {
	font-family:
		-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans", "Noto Sans CJK SC",
		"Microsoft YaHei", "PingFang SC", "Hiragino Sans GB", sans-serif;
	background-color: var(--background-color);
	color: var(--text-color);
	line-height: 1.6;
	transition:
		background-color 0.3s,
		color 0.3s;
	/* Header 已 fixed，需要为其留出空间：安全区 + header高度(约56px) */
	padding-top: calc(var(--window-inset-top, 0px) + 60px);
	/* 底部导航栏空间：安全区 + 导航栏高度(80px) */
	padding-bottom: calc(var(--window-inset-bottom, 0px) + 90px);
	/* 左右 insets 不需要了，因为 header 和 nav 已处理 */
	padding-left: var(--window-inset-left, 0px);
	padding-right: var(--window-inset-right, 0px);
	/* 移动端优化 */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	touch-action: pan-y pinch-zoom;
	overscroll-behavior: contain;
}

#loading {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	font-size: 18px;
	font-weight: 500;
}

#loading::after {
	content: ".";
	animation: ellipsis 1.5s infinite;
}

@keyframes ellipsis {
	0% {
		content: ".";
	}

	33% {
		content: "..";
	}

	66% {
		content: "...";
	}

	100% {
		content: ".";
	}
}
